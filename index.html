<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        const canvas = document.getElementById("toileDeJeu");//base de tout le jeu en dimension / Inchanchageable
        const ctx = canvas.getContext("2D");;//pour mettre la 2d 
        const mur = 20;

        const ligne = canvas.height/mur;
        const colonne = canvas.width/mur;
        
        let joueur = {//variable joueur = {condition de joueur} 
            x : 1, //x = 1 position de x dans le tableau
            y : 1  //y = 1 position de y dans le tableau
        }


        while(labyrinth[sortie.y][sortie.x] === 1){
            sortie = {x: Math.floor(Math.random()*(colonne-2))+1,y: Math.floor(Math.random()*(ligne-2))+1}
        }

        function genererLabyrinth(ligne,colonne){
            let labyrinth = Array.from(({length:ligne}), () => Array(colonne).fill(1));
            const direction = [
                {dx:0, dy:-1},//direction de x, y function du positionement (gauche, droite, haut, bas)
                {dx:1, dy:0},
                {dx:0, dy:1},//??
                {dx:-1, dy:0}
        
            ];
            function dfs(x,y){//passage initiale de début du jeu
                labyrinth[y][x] = 0;//labyrint constante obligatoire/l'ordre change avec y et x (si inverser)
                direction.sort(()=> Math.random() -0.5);//pour determiner un labyrinth aléatoire /.sort melanger les object/.shuffle melanger ce quil y a dans un tableau / ()=> création d'une function a l'interieur d'un argument//labyrint constante obligatoire
                for(const {dx, dy} of direction) {//voir notes
                    const nx = x + dx *2;//si pas de multiplication sa reviens toujours au numero impère
                    const ny = y + dy *2;//*2 car un saut a chaque fois au niveau de la colonne
                    if(nx > 0 && ny > 0 && nx < colonne-1 && ny < ligne -1 && labyrinth[ny][nx] === 1){//tableau multidimentionnel***
                        labyrinth[ny][nx] = 0; //=0 car cest une valeur
                        labyrinth[y+dy][x+dx] = 0;//cest des clé
                        dfs(nx, ny);
                    }
                }
            }  
            dfs(1, 1);//1,1 = (1x et 1y) signification
            return(labyrinth);
        }
        



        function deplacerJoueur(dx, dy){//deplacer le joueur
            const newx = joueur.x+dx;
            const newy = joueur.y+dy;//
            if(newx >= 0 && newy >= 0 && newx < colonne && newy < ligne && labyrinth[newy][newx] === 0){
                joueur.x = newx;// reassigner les valeurs / decrite au prealable
                joueur.y = newy;
                verifSortie();
            }    
        }
    </script>
</body>
</html>